<%# locals: status: nil, booking: nil, label: nil, size: :md %>
<% badge_size = local_assigns.fetch(:size, :md) %>
<% badge_size_class = badge_size.to_s == "sm" ? "small" : nil %>

<% booking = local_assigns[:booking] %>
<% status = booking.present? ? booking_effective_status(booking) : local_assigns.fetch(:status) %>

<% provided_label = local_assigns[:label] %>
<% badge_label = provided_label.present? ? provided_label : booking_status_label(status) %>

<span class="badge rounded-pill lv-status-badge <%= booking_status_badge_class(status) %> <%= badge_size_class %>">
  <%= badge_label %>
</span>
