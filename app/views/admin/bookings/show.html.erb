<h1>Booking #<%= @booking.id %> (Owner)</h1>

<p>Guest: <%= @booking.user.email %></p>
<p>Status: <strong><%= @booking.status %></strong></p>
<p>Dates: <%= @booking.start_date %> â†’ <%= @booking.end_date %> (<%= @booking.nights %> nights)</p>
<p>Total: <%= @booking.total_price_cents %> <%= @booking.currency %></p>

<% if policy(@booking).approve? %>
  <%= button_to "Approve", approve_admin_booking_path(@booking), method: :patch, class: "btn btn-success" %>
  <%= button_to "Decline", decline_admin_booking_path(@booking), method: :patch, class: "btn btn-outline-danger" %>
<% end %>

<% if policy(@booking).cancel? %>
  <%= button_to "Cancel", cancel_admin_booking_path(@booking), method: :patch, class: "btn btn-outline-danger" %>
<% end %>

<% if policy(@booking).refund? %>
  <%= button_to "Refund", refund_admin_booking_path(@booking), method: :post, class: "btn btn-warning", data: { turbo_confirm: "Issue a refund for this booking?" } %>
<% end %>

<%= render "shared/messages", booking: @booking, messages: @messages %>
